<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Link Fontawesome -->
    <script
      src="https://kit.fontawesome.com/5f219ec053.js"
      crossorigin="anonymous"
    ></script>

    <!-- Owl Carousel CSS -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.theme.default.min.css"
    />

    <!-- Link CSS -->
    <link rel="stylesheet" href="./css/reset.css" />
    <link rel="stylesheet" href="./css/index.css" />
    <link rel="stylesheet" href="./css/general.css" />
    <title>Exclusive Shop</title>
  </head>
  <body>
    <!-- HEADER -->
    <header>
      <div class="top-header">
        Summer Sale For All Swim Suits And Free Express Delivery - OFF 50%!
      </div>

      <div class="header-wrapper">
        <h1 class="logo">Exclusive</h1>

        <ul class="navbar">
          <li><a href="./index.html">Home</a></li>
          <li><a href="./shop.html">Shop</a></li>
          <li><a href="./about.html">About</a></li>
          <li><a href="./auth.html">Sign Up</a></li>
        </ul>

        <div class="right-side">
          <!-- SEARCH-BOX -->
          <div class="searchbox">
            <i class="fa-solid fa-magnifying-glass"></i>
            <input type="text" placeholder="Search..." />
          </div>

          <!-- ICONS -->
          <div class="icons">
            <div class="icon-container">
              <i class="fa-solid fa-heart"></i>
              <span class="icon-badge" id="favoriteCount">0</span>
            </div>
            <div class="icon-container">
              <a href="./cart.html">
                <i class="fa-solid fa-bag-shopping"></i>
              </a>
              <span class="icon-badge" id="cartCount">0</span>
            </div>
          </div>
        </div>
      </div>
    </header>

    <!-- BANNER -->
    <section class="banner page-container">
      <div style="flex: 1; padding-left: 64px">
        <h1>Up to 10% off Voucher</h1>
        <p>
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Adipisci,
          sequi maxime sint facere cum dicta dolor natus, saepe ipsa
          necessitatibus omnis illum facilis consequuntur at alias quod
          accusamus numquam maiores?
        </p>
        <a href="./shop.html" class="button-shop">Shop Now</a>
      </div>

      <div style="width: 496px; height: 352px">
        <img src="./images/banner.png" alt="" class="img-cover" />
      </div>
    </section>

    <!-- FLASH SALES -->
    <section class="flash-sales page-container">
      <div class="title-section">
        <div></div>
        Best sellings
      </div>
      <div class="owl-carousel owl-carousel-1 owl-theme product-container">
        <!-- RENDER CARDS INSIDE HERE -->
      </div>
    </section>

    <!-- BANNER 2 -->
    <div class="page-container">
      <section class="banner-2">
        <div>
          <span>Categories</span>
          <h1>Enhance Your Experience</h1>
          <a href="./detail.html" class="button-link">Buy Now</a>
        </div>

        <div style="width: 568px; height: 330px; flex-shrink: 0">
          <img src="./images/banner2.png" alt="" class="img-cover" />
        </div>
      </section>
    </div>

    <!-- FILTER IMAGES -->
    <div class="page-container">
      <section class="explore-products">
        <div class="title-section">
          <div></div>
          Explore our products
        </div>

        <div class="filter-list">
          <div class="item" data-brand="all">Show All</div>
          <div class="item" data-brand="Samsung">Samsung</div>
          <div class="item" data-brand="Apple">Apple</div>
          <div class="item" data-brand="Google Pixel">Google Pixel</div>
        </div>

        <div class="explore-product-container">
          <!-- RENDER IMAGES HERE -->
        </div>
      </section>
    </div>

    <!-- FAQ -->
    <div class="page-container">
      <h1
        style="
          text-align: center;
          font-size: 40px;
          font-weight: bold;
          margin-top: 100px;
          margin-bottom: 30px;
        "
      >
        FAQ
      </h1>

      <section class="faq-section">
        <div class="faq-item">
          <div class="faq-question">Is the phone unlocked?</div>
          <div class="faq-answer">
            Yes, all phones we sell are factory unlocked and can be used with
            any GSM carrier worldwide. Whether you're switching carriers or
            traveling internationally, you can enjoy the flexibility and freedom
            of an unlocked phone.
          </div>
        </div>
        <div class="faq-item">
          <div class="faq-question">Does the phone come with a warranty?</div>
          <div class="faq-answer">
            Absolutely! Each phone we sell comes with a comprehensive
            manufacturer's warranty, ensuring that your purchase is protected
            against any defects in materials or workmanship. Our warranty
            coverage varies depending on the brand and model of the phone, so be
            sure to check the specific details for your device.
          </div>
        </div>
        <div class="faq-item">
          <div class="faq-question">
            Can I return or exchange the phone if I'm not satisfied?
          </div>
          <div class="faq-answer">
            Of course! We want you to be completely satisfied with your
            purchase. If for any reason you're not happy with your phone, you
            can return or exchange it within 30 days of purchase. Our
            hassle-free return policy ensures that you can shop with confidence,
            knowing that we'll make it right.
          </div>
        </div>
      </section>
    </div>

    <!-- SERVICE -->
    <div class="page-container">
      <h1
        style="
          text-align: center;
          font-size: 40px;
          font-weight: bold;
          margin-top: 100px;
          margin-bottom: 30px;
        "
      >
        OUR SERVICE
      </h1>

      <section class="service-section">
        <div class="service-item">
          <div class="service-icon">
            <i class="fas fa-wrench"></i>
          </div>
          <div class="service-content">
            <h3 class="service-title">Repair Services</h3>
            <p class="service-description">
              Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin
              eget justo ac justo convallis consectetur.
            </p>
          </div>
        </div>

        <div class="service-item">
          <div class="service-icon">
            <i class="fas fa-tools"></i>
          </div>
          <div class="service-content">
            <h3 class="service-title">Maintenance</h3>
            <p class="service-description">
              Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin
              eget justo ac justo convallis consectetur.
            </p>
          </div>
        </div>

        <div class="service-item">
          <div class="service-icon">
            <i class="fas fa-battery-full"></i>
          </div>
          <div class="service-content">
            <h3 class="service-title">Battery Replacement</h3>
            <p class="service-description">
              Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin
              eget justo ac justo convallis consectetur.
            </p>
          </div>
        </div>
      </section>
    </div>

    <!-- CONTACT -->
    <div class="page-container">
      <section class="contact-section">
        <div class="contact-form">
          <h2 style="font-size: 30px; font-weight: bold">Contact Us</h2>
          <form id="contactForm" action="#" method="POST">
            <div class="form-group">
              <label for="name">Name</label>
              <input type="text" id="name" name="name" required />
              <div class="error-message" id="nameError">
                Please enter your name
              </div>
            </div>
            <div class="form-group">
              <label for="email">Email</label>
              <input type="email" id="email" name="email" required />
              <div class="error-message" id="emailError">
                Please enter a valid email address
              </div>
            </div>
            <div class="form-group">
              <label for="message">Message</label>
              <textarea id="message" name="message" required></textarea>
              <div class="error-message" id="messageError">
                Please enter your message
              </div>
            </div>
            <button type="submit">Send Message</button>
          </form>
        </div>
        <div class="contact-map">
          <h2 style="font-size: 30px; font-weight: bold">Our Location</h2>
          <iframe
            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3223.6046697604856!2d-122.08156008509714!3d37.389423079834526!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x808fba7159a4444b%3A0xf0f0e01fc03c5b2d!2sGolden%20Gate%20Bridge!5e0!3m2!1sen!2sus!4v1643454390316!5m2!1sen!2sus"
            width="100%"
            height="400"
            style="border: 0"
            allowfullscreen=""
            loading="lazy"
          ></iframe>
        </div>
      </section>
    </div>

    <button id="scrollToTopBtn" title="Go to top">
      <i class="fa-solid fa-arrow-up"></i>
    </button>

    <!-- FOOTER -->
    <footer class="footer">
      <div class="page-container">
        <div class="footer-content">
          <div class="footer-column">
            <h3>About Us</h3>
            <p>
              Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis
              viverra ex nec purus consequat.
            </p>
          </div>
          <div class="footer-column">
            <h3>Contact Us</h3>
            <p>Email: info@example.com</p>
            <p>Phone: +123 456 7890</p>
          </div>
          <div class="footer-column">
            <h3>Follow Us</h3>
            <div class="social-icons">
              <a href="#"><i class="fab fa-facebook"></i></a>
              <a href="#"><i class="fab fa-twitter"></i></a>
              <a href="#"><i class="fab fa-instagram"></i></a>
            </div>
          </div>
        </div>
        <div class="footer-bottom">
          <p>&copy; 2024 EXLUCIVE. All rights reserved.</p>
        </div>
      </div>
    </footer>

    <!-- Owl Carousel JavaScript -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- jQuery -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"></script>

    <script>
      const products = [
        {
          id: 1,
          name: "SAMSUNG Galaxy A15 5G 128GB",
          price: 199.99,
          image: "./images/phone-1.jpg",
          brand: "Samsung",
        },
        {
          id: 2,
          name: "SAMSUNG Galaxy S24+, 256GB, Grayscale",
          price: 849.99,
          image: "./images/phone-2.jpg",
          brand: "Samsung",
        },
        {
          id: 3,
          name: "SAMSUNG Galaxy S23, 128GB, Greenish",
          price: 849.99,
          image: "./images/phone-3.jpg",
          brand: "Samsung",
        },
        {
          id: 4,
          name: "Apple iPhone 13 Pro, 128GB, Sierra Blue",
          price: 470.0,
          image: "./images/iphone-1.jpg",
          brand: "Apple",
        },
        {
          id: 5,
          name: "Apple iPhone 12 Mini, 64GB, Black",
          price: 204.9,
          image: "./images/iphone-2.jpg",
          brand: "Apple",
        },
        {
          id: 6,
          name: "Apple iPhone 12, 64GB, Green Lime",
          price: 174.95,
          image: "./images/iphone-3.jpg",
          brand: "Apple",
        },
        {
          id: 7,
          name: "Google Pixel 7a, 128GB – Charcoal",
          price: 374.0,
          image: "./images/gg-pixel-1.jpg",
          brand: "Google Pixel",
        },
        {
          id: 8,
          name: "Google Pixel 8, 128GB – Obsidian",
          price: 499.0,
          image: "./images/gg-pixel-2.jpg",
          brand: "Google Pixel",
        },
        {
          id: 9,
          name: "Pixel 4 - Clearly White - 64GB - Unlocked",
          price: 165,
          image: "./images/gg-pixel-3.jpg",
          brand: "Google Pixel",
        },
      ];

      function startWeb() {
        renderProducts(products);
        renderImages(products.reverse());
        updateCartCount();
        updateFavoriteCount();
      }
      startWeb();

      function renderProducts(products) {
        const container = document.querySelector(".product-container");
        const owlCarousel = $(".owl-carousel-1");

        container.innerHTML = "";

        const favorites = JSON.parse(localStorage.getItem("favorites")) || [];

        products.forEach((product) => {
          const card = document.createElement("div");
          card.classList.add("product-card");

          const isFavorite = favorites.some(
            (favProduct) => favProduct.id === product.id
          );

          const heartIconClass = isFavorite ? "fa-heart active" : "fa-heart";

          card.innerHTML = `
    <div class="product-image">
      <a href="./detail.html">
        <img src="${product.image}" alt="${product.name}">
      </a>
        <span class="heart-icon" onclick="toggleFavorite(${product.id}, this)">
          <i class="fa-solid ${heartIconClass}"></i>
        </span>
    </div>
    <div class="product-details">
        <h2 class="product-title">${product.name}</h2>
        <p class="product-price">$${product.price}</p>
        <div class="product-rating">
            <i class="fa-solid fa-star"></i>
            <i class="fa-solid fa-star"></i>
            <i class="fa-solid fa-star"></i>
            <i class="fa-solid fa-star"></i>
            <i class="fa-solid fa-star"></i>
        </div>
        <button class="add-to-cart-btn" onclick="addToCart(${product.id})">Add to Cart</button>
    </div>
  `;

          container.appendChild(card);
        });

        // Destroy the existing Owl Carousel instance
        owlCarousel.trigger("destroy.owl.carousel");

        // Reinitialize the Owl Carousel
        owlCarousel.owlCarousel({
          loop: true,
          margin: 20,
          nav: true,
          autoplay: true,
          autoplayTimeout: 4000,
          autoplayHoverPause: true,
          responsive: {
            0: {
              items: 1,
            },
            600: {
              items: 3,
            },
            1000: {
              items: 4,
            },
          },
        });
      }

      function renderImages(products) {
        const container = document.querySelector(".explore-product-container");

        container.innerHTML = "";

        products.forEach((p) => {
          const img = document.createElement("img");
          img.src = p.image;
          img.alt = p.name;

          container.appendChild(img);
        });
      }

      function toggleFavorite(productId, heartIcon) {
        const favorites = JSON.parse(localStorage.getItem("favorites")) || [];
        const index = favorites.findIndex(
          (favProduct) => favProduct.id === productId
        );

        if (index !== -1) {
          favorites.splice(index, 1);
          heartIcon.querySelector("i").classList.remove("active");
        } else {
          favorites.push({ id: productId });
          heartIcon.querySelector("i").classList.add("active");
        }

        localStorage.setItem("favorites", JSON.stringify(favorites));

        renderProducts(products);
        updateFavoriteCount();
      }

      function updateFavoriteCount() {
        const favoriteCount =
          JSON.parse(localStorage.getItem("favorites")) || [];
        document.getElementById("favoriteCount").textContent =
          favoriteCount.length;
      }

      function updateCartCount() {
        const cart = JSON.parse(localStorage.getItem("cart")) || [];
        document.getElementById("cartCount").textContent = cart.length;
      }

      function filterByBrand(products, brand) {
        return products.filter((product) => product.brand === brand);
      }

      /* SCROLL TOP BUTTON */
      const scrollToTopBtn = document.getElementById("scrollToTopBtn");
      window.addEventListener("scroll", () => {
        if (
          document.body.scrollTop > 20 ||
          document.documentElement.scrollTop > 20
        ) {
          scrollToTopBtn.style.display = "block";
        } else {
          scrollToTopBtn.style.display = "none";
        }
      });

      scrollToTopBtn.addEventListener("click", () => {
        document.body.scrollTop = 0;
        document.documentElement.scrollTop = 0;
      });

      /* ACCORDION */
      document.addEventListener("DOMContentLoaded", function () {
        const faqItems = document.querySelectorAll(".faq-item");

        faqItems.forEach((item) => {
          const question = item.querySelector(".faq-question");
          const answer = item.querySelector(".faq-answer");

          question.addEventListener("click", () => {
            question.classList.toggle("active");

            if (question.classList.contains("active")) {
              answer.style.maxHeight = answer.scrollHeight + "px";
            } else {
              answer.style.maxHeight = null;
            }
          });
        });
      });

      /* FILTER IMAGES */
      const filterItems = document.querySelectorAll(".filter-list .item");
      filterItems.forEach((item) => {
        item.addEventListener("click", () => {
          filterItems.forEach((i) => i.classList.remove("active"));

          item.classList.add("active");

          const brand = item.dataset.brand;

          if (brand === "all") {
            renderImages(products);
          } else {
            const filteredProducts = filterByBrand(products, brand);
            renderImages(filteredProducts);
          }
        });
      });

      /* ADD PRODUCT TO CART */
      function addToCart(productId) {
        const product = products.find((item) => item.id === productId);

        let cart = JSON.parse(localStorage.getItem("cart")) || [];

        const productExists = cart.some((item) => item.id === productId);

        if (productExists) {
          cart = cart.map((item) => {
            if (item.id === productId) {
              return { ...item, quantity: item.quantity + 1 };
            }
            return item;
          });
        } else {
          cart.push({ ...product, quantity: 1 });
        }

        localStorage.setItem("cart", JSON.stringify(cart));
        updateCartCount();
      }

      /* VALIDATE FORM */
      const form = document.getElementById("contactForm");
      form.addEventListener("submit", function (event) {
        event.preventDefault();

        // Validate the form
        let isValid = true;
        const inputs = form.querySelectorAll("input, textarea");
        inputs.forEach((input) => {
          if (!input.validity.valid) {
            isValid = false;
            input.classList.add("input-error");
            const errorMessage = document.getElementById(input.id + "Error");
            errorMessage.style.display = "block";
          } else {
            input.classList.remove("input-error");
            const errorMessage = document.getElementById(input.id + "Error");
            errorMessage.style.display = "none";
          }
        });

        // If form is valid, submit it
        if (isValid) {
          alert("Form submitted successfully!");
          form.reset();
        }
      });
    </script>
  </body>
</html>
